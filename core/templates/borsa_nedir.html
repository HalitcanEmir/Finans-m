{% extends 'base.html' %}
{% load static %}

{% block head %}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body {
  background-color: #0f172a;
  color: #f9fafb;
}
.section-grafikler {
  background-color: #0f172a;
  padding: 4rem 2rem;
  border-radius: 20px;
  transition: background-color 0.3s ease;
}
.hero-section {
    position: relative;
    min-height: 100vh;
    background: linear-gradient(135deg, #111827 0%, #1f2937 100%);
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: 4rem 0;
}

/* Animasyonlu arka plan deseni */
.hero-bg-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: patternMove 15s linear infinite;
}

.hero-bg-glow {
    position: absolute;
    top: 30%;
    left: 0;
    width: 100%;
    height: 40%;
    background: radial-gradient(circle at center, rgba(99, 102, 241, 0.15) 0%, transparent 70%);
    filter: blur(60px);
}

@keyframes patternMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
}

.hero-content {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

.hero-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
}

.hero-text {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 1s ease forwards;
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hero-title {
    font-size: 4rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    background: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-subtitle {
    font-size: 1.5rem;
    color: #94a3b8;
    margin-bottom: 2rem;
    line-height: 1.6;
    font-weight: 400;
}

.hero-features {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-top: 3rem;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: #94a3b8;
    padding: 1rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
}

.feature-item:hover {
    background: rgba(255, 255, 255, 0.06);
    transform: translateY(-2px);
}

.feature-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    color: #818cf8;
}

.feature-text {
    font-size: 1rem;
    font-weight: 500;
}

.hero-illustration {
    position: relative;
    opacity: 0;
    animation: fadeIn 1s ease 0.5s forwards;
}

@keyframes fadeIn {
    to { opacity: 1; }
}

.chart-container {
    position: relative;
    width: 100%;
    padding-bottom: 100%;
}

.chart-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.chart-line {
    fill: none;
    stroke: #818cf8;
    stroke-width: 3;
    stroke-linecap: round;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: drawLine 2s ease forwards;
}

@keyframes drawLine {
    to { stroke-dashoffset: 0; }
}

.chart-dots {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.chart-dot {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #818cf8;
    border-radius: 50%;
    opacity: 0;
    animation: fadeInDot 0.3s ease forwards;
}

@keyframes fadeInDot {
    to { opacity: 1; }
}

.scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: #94a3b8;
    cursor: pointer;
    opacity: 0;
    animation: fadeIn 1s ease 1.5s forwards;
}

.scroll-text {
    font-size: 0.875rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.scroll-icon {
    font-size: 1.5rem;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

/* Responsive Tasarım */
@media (max-width: 1024px) {
    .hero-title {
        font-size: 3rem;
    }
    
    .hero-subtitle {
        font-size: 1.25rem;
    }
    
    .hero-features {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .hero-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
        text-align: center;
    }
    
    .hero-features {
        justify-content: center;
    }
    
    .feature-item {
        justify-content: center;
    }
    
    .hero-illustration {
        max-width: 400px;
        margin: 0 auto;
    }
}

@media (max-width: 480px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-section {
        padding: 2rem 0;
    }
}

/* Bilgilendirici Kartlar Bölümü */
.info-cards-section {
    background: linear-gradient(180deg, #111827 0%, #1f2937 100%);
    padding: 6rem 0;
    position: relative;
    overflow: hidden;
}

.info-cards-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 2;
}

.info-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    padding: 2.5rem 2rem;
    height: 280px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    overflow: hidden;
}

.info-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.info-card:hover {
    transform: scale(1.03) translateY(-5px);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.1);
}

.info-card:hover::before {
    opacity: 1;
}

.info-card-icon {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80px;
    width: 80px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
}

.info-card:hover .info-card-icon {
    transform: scale(1.1);
    background: rgba(255, 255, 255, 0.08);
}

.info-card-title {
    color: rgba(255, 255, 255, 0.95);
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    line-height: 1.2;
    position: relative;
    z-index: 1;
}

.info-card-description {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
    font-size: 0.875rem;
    position: relative;
    z-index: 1;
    max-width: 280px;
    margin: 0 auto;
}

@media (max-width: 1024px) {
    .info-cards-container {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .info-cards-container {
        grid-template-columns: 1fr;
        gap: 2rem;
        padding: 0 1.5rem;
    }
    
    .info-card {
        height: 260px;
    }
}

/* Küresel Ekonomi Bölümü */
.global-economy-section {
    background: linear-gradient(180deg, #1f2937 0%, #0B1120 100%);
    padding: 6rem 0;
    position: relative;
    overflow: hidden;
}

.global-economy-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.05) 0%, transparent 70%);
    pointer-events: none;
}

.global-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    padding: 3rem 2rem;
    min-height: 320px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    overflow: hidden;
    max-width: 800px;
    margin: 0 auto;
}

.global-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.global-card:hover {
    transform: scale(1.02);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.1);
}

.global-card:hover::before {
    opacity: 1;
}

.global-icon {
    font-size: 4rem;
    margin-bottom: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100px;
    width: 100px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
}

.global-card:hover .global-icon {
    transform: scale(1.1);
    background: rgba(255, 255, 255, 0.08);
}

.global-title {
    color: rgba(255, 255, 255, 0.95);
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    line-height: 1.2;
    position: relative;
    z-index: 1;
}

.global-description {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.8;
    font-size: 1.1rem;
    position: relative;
    z-index: 1;
    max-width: 600px;
    margin: 0 auto;
}

@media (max-width: 768px) {
    .global-card {
        margin: 0 1.5rem;
        padding: 2rem;
        min-height: 280px;
    }
    
    .global-title {
        font-size: 1.75rem;
    }
    
    .global-description {
        font-size: 1rem;
    }
}

.grafiklar-flex {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  justify-content: center;
}
.grafik-alani {
  background-color: #111827;
  color: #f9fafb;
  padding: 2rem;
  border-radius: 16px;
  margin-bottom: 2rem;
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  max-width: 500px;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: background-color 0.3s ease;
}
.grafik-baslik {
  font-size: 1.35rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  text-align: center;
}
.grafik-aciklama {
  font-size: 1rem;
  opacity: 0.8;
  margin-bottom: 1.2rem;
  text-align: center;
}
.grafik-alt-aciklama {
  font-size: 0.95rem;
  opacity: 0.7;
  margin-top: 1rem;
  text-align: center;
}
.grafik-alani canvas {
  max-width: 100%;
  width: 100% !important;
  height: 300px !important;
  background: transparent;
}
@media (max-width: 1024px) {
  .grafiklar-flex {
    flex-direction: column;
    gap: 24px;
  }
  .grafik-alani {
    max-width: 100%;
  }
}

.analiz-kart-container {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  justify-content: center;
}
.analiz-kart {
  background-color: #111827;
  padding: 1.5rem;
  border-radius: 1rem;
  text-align: center;
  width: 220px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  color: #f9fafb;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.analiz-kart:hover {
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
}
.analiz-kart img {
  height: 50px;
  margin-bottom: 1rem;
}
.analiz-kart h3 {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}
.analiz-kart p {
  font-size: 0.98rem;
  opacity: 0.85;
}
@media (max-width: 900px) {
  .analiz-kart-container {
    flex-direction: column;
    align-items: center;
  }
}

.al-sat-flex {
  display: flex;
  gap: 2.5rem;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;
}
.al-sat-grafik {
  position: relative;
  background: #111827;
  border-radius: 1rem;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  max-width: 350px;
  width: 100%;
  text-align: center;
}
.al-sat-grafik-img {
  width: 100%;
  border-radius: 0.75rem;
  cursor: pointer;
}
.al-sat-tooltip {
  display: none;
  position: absolute;
  left: 50%;
  top: 10%;
  transform: translateX(-50%);
  background: #22223b;
  color: #fff;
  padding: 0.75rem 1.2rem;
  border-radius: 0.75rem;
  font-size: 1rem;
  box-shadow: 0 2px 12px rgba(0,0,0,0.18);
  z-index: 10;
  max-width: 260px;
}
.al-sat-grafik:hover .al-sat-tooltip,
.al-sat-grafik:focus-within .al-sat-tooltip {
  display: block;
}
.al-sat-icerik {
  max-width: 400px;
  width: 100%;
}
.al-sat-baslik {
  font-size: 1.35rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: #f9fafb;
}
.al-sat-aciklama {
  font-size: 1.08rem;
  opacity: 0.85;
  margin-bottom: 1.5rem;
  color: #f9fafb;
}
.yatirimci-profiller {
  display: flex;
  gap: 1.2rem;
  flex-wrap: wrap;
}
.yatirimci-kart {
  flex: 1 1 160px;
  background: #1e293b;
  border-radius: 0.75rem;
  padding: 1rem 1.2rem;
  color: #f9fafb;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: transform 0.3s, box-shadow 0.3s;
}
.yatirimci-kart h3 {
  font-size: 1.05rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}
.yatirimci-kart.erken-satan {
  border-left: 5px solid #f59e42;
  background: linear-gradient(90deg, #1e293b 80%, #f59e42 100%);
}
.yatirimci-kart.uzun-vadeli {
  border-left: 5px solid #22c55e;
  background: linear-gradient(90deg, #1e293b 80%, #22c55e 100%);
}
.yatirimci-kart:hover {
  transform: scale(1.04);
  box-shadow: 0 0 18px rgba(34,197,94,0.12);
}
@media (max-width: 900px) {
  .al-sat-flex {
    flex-direction: column;
    align-items: center;
  }
  .yatirimci-profiller {
    flex-direction: column;
    gap: 1rem;
  }
}

.yatirim-basliklar h2 {
  font-size: 2rem;
  font-weight: 700;
}
.yatirim-basliklar p {
  font-size: 1.1rem;
  opacity: 0.85;
}
.yatirim-flex {
  display: flex;
  gap: 2.5rem;
  justify-content: center;
  align-items: flex-start;
  flex-wrap: wrap;
  margin-bottom: 2.5rem;
}
.yatirim-bilgi-kutu {
  background: #111827;
  color: #f9fafb;
  border-radius: 1rem;
  padding: 2rem 1.5rem;
  font-size: 1.08rem;
  max-width: 350px;
  min-width: 220px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  margin: 0 auto;
  line-height: 1.7;
}
.yatirim-grafik-kutu {
  background: #111827;
  border-radius: 1rem;
  padding: 2rem 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  max-width: 420px;
  width: 100%;
  margin: 0 auto;
  text-align: center;
}
.yatirim-grafik-baslik {
  color: #f9fafb;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 1rem;
}
.yatirim-grafik-kutu canvas {
  max-width: 100%;
  width: 100% !important;
  height: 260px !important;
  background: transparent;
}
.yatirim-alt-kutu {
  background: #1e293b;
  color: #f9fafb;
  border-radius: 0.75rem;
  padding: 1rem 1.5rem;
  font-size: 1.05rem;
  text-align: center;
  max-width: 420px;
  margin: 2rem auto 0 auto;
  opacity: 0.92;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
@media (max-width: 900px) {
  .yatirim-flex {
    flex-direction: column;
    gap: 2rem;
    align-items: center;
  }
  .yatirim-bilgi-kutu, .yatirim-grafik-kutu {
    max-width: 100%;
    width: 100%;
  }
}

.yatirim-projeksiyon-container {
  background: #111827;
  border-radius: 1rem;
  padding: 2rem 1.5rem;
  max-width: 600px;
  margin: 0 auto;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.yatirim-label {
  display: block;
  font-size: 1.1rem;
  color: #f9fafb;
  margin-bottom: 1.5rem;
  text-align: center;
}
.yatirim-input {
  margin: 0 0.5rem;
  padding: 0.4rem 0.8rem;
  border-radius: 0.5rem;
  border: none;
  font-size: 1.1rem;
  width: 100px;
}
.yatirim-table-wrapper {
  overflow-x: auto;
}
.yatirim-table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 auto;
  background: #1e293b;
  color: #f9fafb;
  border-radius: 0.75rem;
  overflow: hidden;
}
.yatirim-table th, .yatirim-table td {
  padding: 0.8rem 1.2rem;
  text-align: center;
}
.yatirim-table th {
  background: #0f172a;
  font-weight: 600;
}
.yatirim-table tr {
  transition: background 0.2s;
}
.yatirim-table tr:hover {
  background: #334155;
}
@media (max-width: 600px) {
  .yatirim-table th, .yatirim-table td {
    padding: 0.6rem 0.5rem;
    font-size: 0.98rem;
  }
}

.alinti-kutusu {
  background: linear-gradient(90deg, #312e81 0%, #1e293b 100%);
  color: #ffe066;
  border-radius: 1.2rem;
  padding: 1.5rem 2rem;
  margin: 3rem auto 0 auto;
  max-width: 520px;
  text-align: center;
  font-size: 1.18rem;
  font-weight: 500;
  position: relative;
  box-shadow: 0 4px 24px rgba(49,46,129,0.10);
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.7s cubic-bezier(.4,0,.2,1), transform 0.7s cubic-bezier(.4,0,.2,1);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.7rem;
}
.alinti-kutusu.gorunur {
  opacity: 1;
  transform: translateY(0);
}
.alinti-ikon {
  font-size: 1.5rem;
  opacity: 0.85;
}
.alinti-metin {
  flex: 1;
}
@media (max-width: 600px) {
  .alinti-kutusu {
    padding: 1rem 0.7rem;
    font-size: 1rem;
    max-width: 98vw;
  }
}
</style>
{% endblock %}

{% block content %}
<section class="hero-section">
    <!-- Animasyonlu arka plan -->
    <div class="hero-bg-pattern"></div>
    <div class="hero-bg-glow"></div>
    
    <div class="hero-content">
        <div class="hero-grid">
            <!-- Sol taraf - Metin içeriği -->
            <div class="hero-text">
                <h1 class="hero-title">Borsa Nedir?</h1>
                <p class="hero-subtitle">Yatırımın mantığını, borsanın işleyişini ve neden önemli olduğunu keşfedin.</p>
                
                <div class="hero-features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span class="feature-text">Piyasa Dinamikleri</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <span class="feature-text">Yatırım Stratejileri</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <span class="feature-text">Risk Yönetimi</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <span class="feature-text">Hedef Odaklı</span>
                    </div>
                </div>
            </div>
            
            <!-- Sağ taraf - İllüstrasyon -->
            <div class="hero-illustration">
                <div class="chart-container">
                    <svg class="chart-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
                        <path class="chart-line" d="M0,50 Q25,50 35,35 T50,25 T65,45 T80,30 T100,20"></path>
                    </svg>
                    <div class="chart-dots" id="chartDots"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scroll indicator -->
    <div class="scroll-indicator" id="scrollIndicator">
        <span class="scroll-text">Keşfet</span>
        <i class="fas fa-chevron-down scroll-icon"></i>
    </div>
</section>

<!-- Bilgilendirici Kartlar -->
<section class="info-cards-section">
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 gap-8 info-cards-container">
            <!-- Kart 1: Ortaklık -->
            <div class="info-card group">
                <div class="info-card-icon">
                    <span role="img" aria-label="Grafik Yükselen">📈</span>
                </div>
                <h3 class="info-card-title">Ortaklık Demektir</h3>
                <p class="info-card-description">
                    Hisse aldığınızda şirketin ortağı olursunuz. Değer artarsa siz de kazanırsınız.
                </p>
            </div>

            <!-- Kart 2: Yatırım -->
            <div class="info-card group">
                <div class="info-card-icon">
                    <span role="img" aria-label="Para Kesesi">💰</span>
                </div>
                <h3 class="info-card-title">Yatırımın Temeli</h3>
                <p class="info-card-description">
                    Paranızı çalıştırmanın en etkili yollarından biri borsadır.
                </p>
            </div>

            <!-- Kart 3: Küresel Ekonomi -->
            <div class="info-card group">
                <div class="info-card-icon">
                    <span role="img" aria-label="Dünya">🌍</span>
                </div>
                <h3 class="info-card-title">Küresel Ekonomi ile Bağlantı</h3>
                <p class="info-card-description">
                    Dünya devlerinin büyümesine siz de ortak olabilirsiniz (Apple, Google, vs.)
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Küresel Ekonomi Bölümü -->
<section class="global-economy-section">
    <div class="container mx-auto">
        <div class="global-card">
            <div class="global-icon">
                <span role="img" aria-label="Dünya">🌍</span>
            </div>
            <h2 class="global-title">Küresel Ekonomi ile Bağlantı</h2>
            <p class="global-description">
                Borsalar dünya ekonomisinin birer göstergesidir. Ülkelerin gelişmişlik düzeyleriyle doğrudan ilişkilidir. 
                Küresel piyasalar birbirine bağlı olduğundan, bir ülkedeki gelişmeler diğerlerini de etkiler. 
                Bu yüzden borsa, sadece yatırım değil, ekonomik sağlığın da bir göstergesidir.
            </p>
        </div>
    </div>
</section>

<!-- 4. Bölüm: Gerçek Verilerle Borsa (Yenilenmiş) -->
<section class="section-grafikler">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-white mb-2 text-center">Gerçek Verilerle Borsa</h2>
    <p class="text-lg text-white/80 mb-10 text-center">Borsalar sadece kavram değil, trilyon dolarlık sistemlerdir.</p>
    <div class="grafiklar-flex">
      <!-- Grafik 1 -->
      <div class="grafik-alani">
        <h3 class="grafik-baslik">Küresel Borsa Hacmi</h3>
        <p class="grafik-aciklama">Küresel borsa hacmi, son 20 yılda 3 kat büyümüştür.</p>
        <canvas id="globalChart"></canvas>
      </div>
      <!-- Grafik 2 -->
      <div class="grafik-alani">
        <h3 class="grafik-baslik">Apple'ın Yıllara Göre Değeri</h3>
        <p class="grafik-aciklama">Apple, dünyanın en değerli şirketlerinden biridir.</p>
        <canvas id="appleChart"></canvas>
        <p class="grafik-alt-aciklama">Apple örneği, şirketlerin borsada nasıl büyüyebileceğini gösterir.</p>
      </div>
    </div>
  </div>
</section>

<!-- Chart.js CDN ve grafik scripti -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const globalChartCtx = document.getElementById('globalChart').getContext('2d');
new Chart(globalChartCtx, {
  type: 'line',
  data: {
    labels: ['2000', '2010', '2020', '2024'],
    datasets: [{
      label: 'Küresel Borsa Hacmi (Trilyon $)',
      data: [30, 50, 90, 110],
      fill: true,
      backgroundColor: 'rgba(99, 102, 241, 0.15)',
      borderColor: '#6366f1',
      tension: 0.4,
      pointBackgroundColor: '#fff',
      pointBorderColor: '#6366f1',
      pointRadius: 5
    }]
  },
  options: {
    maintainAspectRatio: false,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.05)' } },
      y: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.05)' } }
    }
  }
});

const appleChartCtx = document.getElementById('appleChart').getContext('2d');
new Chart(appleChartCtx, {
  type: 'line',
  data: {
    labels: ['2010', '2015', '2020', '2023'],
    datasets: [{
      label: 'Apple Piyasa Değeri (Trilyon $)',
      data: [0.2, 0.7, 1.3, 3],
      fill: false,
      borderColor: '#22d3ee',
      backgroundColor: '#22d3ee',
      tension: 0.4,
      pointBackgroundColor: '#fff',
      pointBorderColor: '#22d3ee',
      pointRadius: 5
    }]
  },
  options: {
    maintainAspectRatio: false,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.05)' } },
      y: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.05)' } }
    }
  }
});
</script>

<!-- 4. Modül: Teknik Analize Giriş (güncellendi) -->
<section class="modul-4 teknik-analiz py-16">
  <h2 class="text-2xl font-bold text-center text-white mb-8">Teknik Analize Giriş</h2>
  <div class="analiz-kart-container">
    <!-- Kart 1 -->
    <div class="analiz-kart">
      <img src="{% static 'images/mum.png' %}" alt="Mum Grafik İkonu" />
      <h3>Mum Grafik</h3>
      <p>Fiyatın açılış-kapanış ve en yüksek-en düşük seviyelerini gösterir.</p>
    </div>
    <!-- Kart 2 -->
    <div class="analiz-kart">
      <img src="{% static 'images/ma.png' %}" alt="Hareketli Ortalama İkonu" />
      <h3>MA50 & MA200</h3>
      <p>Kısa ve uzun vadeli trendleri gösterir. Kesişimler alım/satım sinyali olabilir.</p>
    </div>
    <!-- Kart 3 -->
    <div class="analiz-kart">
      <img src="{% static 'images/rsi.png' %}" alt="RSI İkonu" />
      <h3>RSI</h3>
      <p>Hissenin aşırı alım ya da satımda olup olmadığını ölçer. Genellikle 70/30 seviyesi referans alınır.</p>
    </div>
    <!-- Kart 4 -->
    <div class="analiz-kart">
      <img src="{% static 'images/macd.png' %}" alt="MACD İkonu" />
      <h3>MACD</h3>
      <p>İki ortalamanın farkına göre trendin yönünü ve gücünü gösterir.</p>
    </div>
    <!-- Kart 5: Alım/Satım Sinyali Grafik -->
    <div class="analiz-kart">
      <img src="{% static 'images/al-sat-ornek.png' %}" alt="Alım Satım Sinyali Grafik" />
      <h3>Alım/Satım Sinyali</h3>
      <p>Bu grafik, RSI ve MA kesişimlerinin nasıl alım/satım sinyali oluşturduğunu gösterir.</p>
    </div>
  </div>
</section>

<!-- 5. Modül: Alım/Satım Zamanlaması (sadece sağ açıklama ve profiller) -->
<section class="modul-5 al-sat-zamanlama py-16">
  <div class="al-sat-icerik" style="margin: 0 auto; max-width: 600px;">
    <h2 class="al-sat-baslik">📈 Alım-Satım Zamanlaması Neden Önemlidir?</h2>
    <p class="al-sat-aciklama">
      Yanlış zamanda alınan bir hisse, uzun vadede zarara neden olabilir.<br>
      Doğru zamanda satmak ise kârı korumanın anahtarıdır.
    </p>
    <div class="yatirimci-profiller">
      <div class="yatirimci-kart erken-satan">
        <h3>Erken Satan Yatırımcı</h3>
        <p>Hissesi %10 yükselince hemen satar. Uzun vadeli büyümeyi kaçırır.</p>
      </div>
      <div class="yatirimci-kart uzun-vadeli">
        <h3>Uzun Vadeli Tutucu</h3>
        <p>Sağlam hisseleri yıllarca elinde tutar, bileşik getiriyle büyük kazanç sağlar.</p>
      </div>
    </div>
  </div>
</section>

<!-- 6. Modül: Yatırımda Bakış Açısı – Damlaya Damlaya Göl Olur -->
<section class="modul-6 yatirim-bakis py-16">
  <div class="yatirim-basliklar text-center mb-8">
    <h2 class="text-2xl font-bold text-white mb-2">Yatırımda Bakış Açısı</h2>
    <p class="text-lg text-white/80">Damlaya damlaya göl olur. Küçük yatırım büyür.</p>
  </div>
  <div class="yatirim-flex">
    <div class="yatirim-bilgi-kutu">
      <p>
        Her ay sadece 100 TL ile bile yatırım yapmaya başlamak, uzun vadede büyük bir fark yaratır.<br>
        Borsa, paranın kendi kendine çalıştığı bir alandır.<br>
        Zaman ve sabır, yatırımın en büyük silahıdır.
      </p>
    </div>
    <div class="yatirim-grafik-kutu">
      <h3 class="yatirim-grafik-baslik">100 TL ile Ne Kadar Büyüyebilir?</h3>
      <canvas id="yatirimBuyumeChart"></canvas>
    </div>
  </div>
  <div class="yatirim-alt-kutu">
    Yatırım büyüklüğünüz değil, yatırım süreniz önemli olabilir.
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const years = Array.from({length: 11}, (_, i) => i); // 0-10
const values = [];
let amount = 0;
for (let i = 0; i <= 10; i++) {
  amount = amount * 1.1 + 1200; // 100 TL x 12 ay, %10 yıllık bileşik
  values.push(Math.round(amount));
}
new Chart(document.getElementById('yatirimBuyumeChart').getContext('2d'), {
  type: 'line',
  data: {
    labels: years.map(y => y + '. yıl'),
    datasets: [{
      label: 'Birikim (TL)',
      data: values,
      fill: true,
      backgroundColor: 'rgba(34,197,94,0.12)',
      borderColor: '#22c55e',
      tension: 0.4,
      pointBackgroundColor: '#fff',
      pointBorderColor: '#22c55e',
      pointRadius: 5,
      pointHoverRadius: 8
    }]
  },
  options: {
    maintainAspectRatio: false,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: '#f9fafb' }, grid: { color: 'rgba(255,255,255,0.05)' } },
      y: { ticks: { color: '#f9fafb' }, grid: { color: 'rgba(255,255,255,0.05)' }, min: 0, max: 25000 }
    }
  }
});
</script>

<!-- 7. Modül: Yatırım Projeksiyonu Tablosu -->
<section class="yatirim-projeksiyon py-16">
  <div class="yatirim-projeksiyon-container">
    <label for="monthly-input" class="yatirim-label">
      💵 Aylık yatırım tutarınızı girin:
      <input id="monthly-input" type="number" min="1" value="100" class="yatirim-input" /> USD
    </label>
    <div class="yatirim-table-wrapper">
      <table class="yatirim-table">
        <thead>
          <tr>
            <th>Yıl</th>
            <th>Yatırılan Para</th>
            <th>%10 Bileşik Getiri</th>
            <th>%20 Bileşik Getiri</th>
          </tr>
        </thead>
        <tbody id="yatirim-table-body">
          <!-- JS ile doldurulacak -->
        </tbody>
      </table>
    </div>
  </div>
</section>

<script>
function updateInvestmentTable() {
  const monthly = document.getElementById('monthly-input').value || 0;
  fetch('/investment-projection/', {
    method: 'POST',
    headers: {'Content-Type': 'application/json', 'X-CSRFToken': getCookie('csrftoken')},
    body: JSON.stringify({monthly})
  })
  .then(res => res.json())
  .then(data => {
    const tbody = document.getElementById('yatirim-table-body');
    tbody.innerHTML = '';
    [['1_year','1 Yıl'],['5_year','5 Yıl'],['10_year','10 Yıl'],['20_year','20 Yıl']].forEach(([key, label]) => {
      const row = data[key];
      tbody.innerHTML += `<tr>
        <td>${label}</td>
        <td>${row.no_growth.toLocaleString()} USD</td>
        <td>${row['10_percent'].toLocaleString()} USD</td>
        <td>${row['20_percent'].toLocaleString()} USD</td>
      </tr>`;
    });
  });
}
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}
document.getElementById('monthly-input').addEventListener('input', updateInvestmentTable);
window.addEventListener('DOMContentLoaded', updateInvestmentTable);
</script>

<!-- Alıntı Kutusu / Düşünmeye Sevk Edici Cümle -->
<div class="alinti-kutusu" id="alinti-kutusu">
  <span class="alinti-ikon">💡</span>
  <span class="alinti-metin">“Plan yapmayan, başkalarının planının parçası olur.”</span>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const alinti = document.getElementById('alinti-kutusu');
  if ('IntersectionObserver' in window && alinti) {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          alinti.classList.add('gorunur');
          observer.disconnect();
        }
      });
    }, { threshold: 0.5 });
    observer.observe(alinti);
  } else if (alinti) {
    // Fallback: hemen göster
    alinti.classList.add('gorunur');
  }
});
</script>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Parallax efekti
    const illustration = document.querySelector('.hero-illustration');
    const maxMove = 30; // maksimum hareket miktarı (piksel)
    
    document.addEventListener('mousemove', (e) => {
        if (window.innerWidth <= 768) return; // mobilde devre dışı bırak
        
        const mouseX = e.clientX / window.innerWidth - 0.5;
        const mouseY = e.clientY / window.innerHeight - 0.5;
        
        illustration.style.transform = `
            translate(
                ${mouseX * maxMove}px,
                ${mouseY * maxMove}px
            )
        `;
    });
    
    // Grafik noktaları oluştur
    const chartDots = document.getElementById('chartDots');
    const dotPositions = [
        {x: 0, y: 50}, {x: 25, y: 50}, {x: 35, y: 35},
        {x: 50, y: 25}, {x: 65, y: 45}, {x: 80, y: 30},
        {x: 100, y: 20}
    ];
    
    dotPositions.forEach((pos, index) => {
        const dot = document.createElement('div');
        dot.className = 'chart-dot';
        dot.style.left = `${pos.x}%`;
        dot.style.top = `${pos.y}%`;
        dot.style.animationDelay = `${2 + (index * 0.1)}s`;
        chartDots.appendChild(dot);
    });
    
    // Scroll indicator tıklama
    const scrollIndicator = document.getElementById('scrollIndicator');
    scrollIndicator.addEventListener('click', () => {
        window.scrollTo({
            top: window.innerHeight,
            behavior: 'smooth'
        });
    });
});
</script>
{% endblock %} 